<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Power Block</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{font-family:Arial;background:#eef2f6;margin:0}
header{background:#0b5ed7;color:white;padding:10px;text-align:center}
.card{background:white;margin:12px;padding:15px;border-radius:12px}
input,textarea{width:100%;padding:8px;margin-top:6px}
button{width:100%;padding:12px;background:#198754;color:white;border:none}
</style>
</head>

<body>

<!-- SUPABASE INIT -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.3"></script>
<script>
window.supabaseClient = supabase.createClient(
  "https://cyaxvuwkwptaxbkpwyid.supabase.co",
  "sb_publishable_wshxDs-Q_gUgYXxVjw7bwA_ycY3kndA"
);
</script>

<header>
<h3>Power Block Certificate</h3>
</header>

<div class="card">

<input id="block_no" placeholder="Block Number">
<input id="location" placeholder="Location">
<input type="date" id="date">
<textarea id="purpose" placeholder="Purpose"></textarea>

<button onclick="savePower()">Save Power Block</button>

</div>

<script>
async function savePower(){

const payload={
 block_no:block_no.value,
 location:location.value,
 date:date.value,
 purpose:purpose.value
}

const {error}=await window.supabaseClient
.from("power_blocks")
.insert([payload])

if(error){
 alert(error.message)
}else{
 alert("Power Block Saved")
 document.querySelectorAll("input,textarea").forEach(e=>e.value="")
}

}
</script>

</body>
</html>
